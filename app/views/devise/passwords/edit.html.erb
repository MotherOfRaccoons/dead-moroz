<main class="form-edit-password">
  <h1 class="h3 fw-normal text-center py-4">Change your password</h1>

  <%= form_with(model: resource, 
                scope: resource_name, 
                url: password_path(resource_name), 
                html: { class: "needs-validation", novalidate: true, method: :put }) do |f| 
  %>

    <%= render "shared/error_messages", resource: resource %>
    <%= f.hidden_field :reset_password_token %>

    <div class="col-12">
      <%= f.label :password, "New password", class: "form-label" %>
      <%= f.password_field :password, autocomplete: "new-password", class: "form-control", 
                           required: true, minlength: 6, maxlength: 50 %>
      <% if @minimum_password_length %>
        <small class="text-muted"><%= @minimum_password_length %> characters minimum</small>
      <% end %>
      <div class="invalid-feedback">
        Please enter a valid password.
      </div>
    </div>

    <div class="col-12">
      <%= f.label :password_confirmation, class: "form-label" %>
      <%= f.password_field :password_confirmation, autocomplete: "new-password", class: "form-control", 
                           required: true, minlength: 6, maxlength: 50 %>
      <div class="invalid-feedback">
        Please enter a valid password.
      </div>
    </div>

    <%= f.submit "Change my password", class: 'w-100 btn btn-lg btn-primary my-3' %>
  <% end %>

  <div class="row"> 
    <div class="col-6">
      <%= link_to "Log in", new_session_path(resource_name), class: "w-100 btn btn-outline-primary" %>
    </div>
    <div class="col-6">
      <%= link_to "Sign up", new_registration_path(resource_name), class: "w-100 btn btn-outline-primary" %> 
    </div>
  </div>
</main>

<%= javascript_pack_tag 'validation' %>